(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[0],{12:function(e,t,c){e.exports={goBackBtn:"MovieDetailsPage_goBackBtn__zQ0Bp",goBackBtnLink:"MovieDetailsPage_goBackBtnLink__2Y2GL",container:"MovieDetailsPage_container__24uYO",image:"MovieDetailsPage_image__3s-40",filmInfo:"MovieDetailsPage_filmInfo__3tgjw",ganresList:"MovieDetailsPage_ganresList__3xyyg",ganresListItem:"MovieDetailsPage_ganresListItem__36d6b"}},14:function(e,t,c){e.exports={link:"Navigation_link__2HPdR",activeLink:"Navigation_activeLink__1PNGk"}},21:function(e,t,c){e.exports={heading:"HomePage_heading__27e3U",list:"HomePage_list__4aiUM"}},22:function(e,t,c){e.exports={actorImage:"Cast_actorImage__2RDtM"}},35:function(e,t,c){},64:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),i=c(32),s=c.n(i),o=c(2),r=c(4),l=c(14),j=c.n(l),b=c(0);function h(){return Object(b.jsxs)("nav",{children:[Object(b.jsx)(r.c,{to:"/",exact:!0,className:j.a.link,activeClassName:j.a.activeLink,children:"Home"}),Object(b.jsx)(r.c,{to:"/movies",className:j.a.link,activeClassName:j.a.activeLink,children:"Movies"}),Object(b.jsx)("hr",{})]})}var d=c(9),u=c(10),m=c.n(u),O=c(21),v=c.n(O);function x(){Object(o.g)();var e=Object(a.useState)([]),t=Object(d.a)(e,2),c=t[0],n=t[1],i="https://api.themoviedb.org/3/trending/movie/day?api_key=c65fb4b4036e2137b5346647b44aa2c0";return Object(a.useEffect)((function(){m.a.get(i).then((function(e){return n(e.data.results)}))}),[i]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h1",{className:v.a.heading,children:"Trending today"}),Object(b.jsx)("ul",{className:v.a.list,children:c.map((function(e){return e.title?Object(b.jsx)("li",{children:Object(b.jsx)(r.b,{to:{pathname:"/movies/".concat(e.id),state:{from:"/",label:"Back to Home"}},children:e.title})},e.id):e.name?Object(b.jsx)("li",{children:Object(b.jsx)(r.b,{to:{pathname:"/movies/".concat(e.id),state:{from:"/",label:"Back to Home"}},children:e.name})},e.id):void 0}))})]})}var f=c(15);function g(){var e=Object(a.useState)(""),t=Object(d.a)(e,2),c=t[0],n=t[1],i=Object(a.useState)([]),s=Object(d.a)(i,2),l=s[0],j=s[1],h=Object(a.useState)(""),u=Object(d.a)(h,2),O=u[0],v=u[1],x=Object(o.f)(),g=Object(o.g)(),p=(Object(o.h)(),"https://api.themoviedb.org/3/search/movie"),_="?api_key=c65fb4b4036e2137b5346647b44aa2c0",k="&query=".concat(c),y=p+_+k,N=new URLSearchParams(g.search).get("query");Object(a.useEffect)((function(){if(c||N)if(!O&&N){var e="&query=".concat(N),t=p+_+e;m.a.get(t).then((function(e){return j(e.data.results)})).then(console.log("\u0441\u0440\u0430\u0431\u043e\u0442\u0430\u043b if (!searchQuery && urlQuery)"),x.push(Object(f.a)(Object(f.a)({},g),{},{search:"query=".concat(N)})))}else m.a.get(y).then((function(e){return j(e.data.results)})).then(console.log("\u0441\u0440\u0430\u0431\u043e\u0442\u0430\u043b else"),x.push(Object(f.a)(Object(f.a)({},g),{},{search:"query=".concat(c)})))}),[c]);return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("form",{className:"SearchForm",onSubmit:function(e){e.preventDefault(),console.log("\u0441\u0440\u0430\u0431\u043e\u0442\u0430\u043b onSubmit"),n(O)},children:[Object(b.jsx)("input",{onChange:function(e){v(e.target.value)},name:"searh",value:O,className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies"}),Object(b.jsx)("button",{type:"submit",className:"SearchForm-button",children:"Search"})]}),l.length>0&&Object(b.jsx)("ul",{children:l.map((function(e){return Object(b.jsx)("li",{children:Object(b.jsx)(r.b,{to:{pathname:"/movies/".concat(e.id),state:{from:{location:g,label:"Back to movies from moviePage"}}},children:e.title})},e.id)}))})]})}var p=c(12),_=c.n(p),k=c(22),y=c.n(k);function N(e){var t=e.movieId,c="https://api.themoviedb.org/3/movie/".concat(t,"/credits").concat("?api_key=c65fb4b4036e2137b5346647b44aa2c0"),n=Object(a.useState)([]),i=Object(d.a)(n,2),s=i[0],o=i[1];return Object(a.useEffect)((function(){m.a.get(c).then((function(e){return o(e.data.cast)}))}),[c]),Object(b.jsx)("ul",{className:y.a.castList,children:s.map((function(e){return Object(b.jsxs)("li",{children:[Object(b.jsx)("img",{className:y.a.actorImage,src:"https://image.tmdb.org/t/p/w500".concat(e.profile_path),alt:""}),Object(b.jsx)("p",{children:e.name}),Object(b.jsxs)("p",{children:["Character: ",e.character]})]},e.id)}))})}var I=c(35),L=c.n(I);function w(e){var t=e.movieId,c="https://api.themoviedb.org/3/movie/".concat(t,"/reviews").concat("?api_key=c65fb4b4036e2137b5346647b44aa2c0","&page=1"),n=Object(a.useState)([]),i=Object(d.a)(n,2),s=i[0],o=i[1];return Object(a.useEffect)((function(){m.a.get(c).then((function(e){return o(e.data.results)}))}),[c]),Object(b.jsx)("ul",{className:L.a.castList,children:s.length?s.map((function(e){return Object(b.jsxs)("li",{children:[Object(b.jsxs)("b",{children:["Author: ",e.author]}),Object(b.jsx)("p",{children:e.content})]},e.id)})):"We don`t have any reviews for this movie"})}function B(){var e,t=Object(o.i)().url;console.log("url",t);var c=Object(o.f)(),n=Object(o.g)(),i=Object(o.h)().movieId,s=Object(a.useState)(null),l=Object(d.a)(s,2),j=l[0],h=l[1],u="https://api.themoviedb.org/3/movie/"+i+"?api_key=c65fb4b4036e2137b5346647b44aa2c0";Object(a.useEffect)((function(){m.a.get(u).then((function(e){return h(e.data)}))}),[u]);return console.log("CARD Loaction: ",n),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{type:"button",onClick:function(){var e,t;c.push(null!==(e=null===n||void 0===n||null===(t=n.state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/movies")},children:null===n||void 0===n||null===(e=n.state)||void 0===e?void 0:e.label}),j&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:_.a.container,children:[Object(b.jsx)("div",{children:Object(b.jsx)("img",{className:_.a.image,src:"https://image.tmdb.org/t/p/w500".concat(j.poster_path),alt:""})}),Object(b.jsxs)("div",{className:_.a.filmInfo,children:[Object(b.jsxs)("h2",{children:[j.title," (",j.release_date,")"]}),Object(b.jsxs)("p",{children:["User score: ",j.vote_average]}),Object(b.jsx)("h3",{children:"Overview"}),Object(b.jsx)("p",{children:j.overview}),Object(b.jsx)("h3",{children:"Genres"}),Object(b.jsx)("ul",{className:_.a.ganresList,children:j.genres.map((function(e){return Object(b.jsx)("li",{className:_.a.ganresListItem,children:e.name},e.id)}))})]})]}),Object(b.jsx)("hr",{}),Object(b.jsx)("h2",{children:"Additional information"}),Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:Object(b.jsx)(r.c,{to:{pathname:"".concat(t,"/cast"),state:{from:"/movies",label:"Back to movies from Cast"}},children:"Cast"})}),Object(b.jsx)("li",{children:Object(b.jsx)(r.c,{to:{pathname:"".concat(t,"/reviews"),state:{from:"/movies",label:"Back to movies from Reviews"}},children:"Reviews"})})]}),Object(b.jsx)("hr",{}),Object(b.jsxs)(o.c,{children:[Object(b.jsx)(o.a,{path:"/movies/:movieId/cast",children:Object(b.jsx)(N,{movieId:i})}),Object(b.jsx)(o.a,{path:"/movies/:movieId/reviews",children:Object(b.jsx)(w,{movieId:i})})]})]})]})}function S(){var e=Object(o.f)(),t=Object(o.g)();return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h1",{children:"404 Page not found!"}),Object(b.jsx)("button",{type:"button",onClick:function(){var c,a,n;e.push(null!==(c=null===t||void 0===t||null===(a=t.state)||void 0===a||null===(n=a.from)||void 0===n?void 0:n.location)&&void 0!==c?c:"/")},children:"Back to Home"})]})}function P(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(h,{}),Object(b.jsxs)(o.c,{children:[Object(b.jsx)(o.a,{path:"/",exact:!0,children:Object(b.jsx)(x,{})}),Object(b.jsx)(o.a,{path:"/movies",exact:!0,children:Object(b.jsx)(g,{})}),Object(b.jsx)(o.a,{path:"/movies/:movieId",children:Object(b.jsx)(B,{})}),Object(b.jsx)(o.a,{children:Object(b.jsx)(S,{})})]})]})}s.a.render(Object(b.jsx)(n.a.StrictMode,{children:Object(b.jsx)(r.a,{children:Object(b.jsx)(P,{})})}),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.d82ce7c1.chunk.js.map