(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[0],{12:function(e,t,c){e.exports={goBackBtn:"MovieDetailsPage_goBackBtn__zQ0Bp",goBackBtnLink:"MovieDetailsPage_goBackBtnLink__2Y2GL",container:"MovieDetailsPage_container__24uYO",image:"MovieDetailsPage_image__3s-40",filmInfo:"MovieDetailsPage_filmInfo__3tgjw",ganresList:"MovieDetailsPage_ganresList__3xyyg",ganresListItem:"MovieDetailsPage_ganresListItem__36d6b"}},14:function(e,t,c){e.exports={link:"Navigation_link__2HPdR",activeLink:"Navigation_activeLink__1PNGk"}},21:function(e,t,c){e.exports={heading:"HomePage_heading__27e3U",list:"HomePage_list__4aiUM"}},22:function(e,t,c){e.exports={actorImage:"Cast_actorImage__2RDtM"}},35:function(e,t,c){},64:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),i=c(32),s=c.n(i),o=c(2),r=c(4),l=c(14),j=c.n(l),b=c(0);function h(){return Object(b.jsxs)("nav",{children:[Object(b.jsx)(r.c,{to:"/",exact:!0,className:j.a.link,activeClassName:j.a.activeLink,children:"Home"}),Object(b.jsx)(r.c,{to:"/movies",className:j.a.link,activeClassName:j.a.activeLink,children:"Movies"}),Object(b.jsx)("hr",{})]})}var m=c(9),d=c(10),u=c.n(d),O=c(21),v=c.n(O);function f(){var e=Object(a.useState)([]),t=Object(m.a)(e,2),c=t[0],n=t[1],i="https://api.themoviedb.org/3/trending/movie/day?api_key=c65fb4b4036e2137b5346647b44aa2c0";return Object(a.useEffect)((function(){u.a.get(i).then((function(e){return n(e.data.results)}))}),[i]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h1",{className:v.a.heading,children:"Trending today"}),Object(b.jsx)("ul",{className:v.a.list,children:c.map((function(e){return e.title?Object(b.jsx)("li",{children:Object(b.jsx)(r.b,{to:{pathname:"/movies/".concat(e.id),state:{from:"/",label:"Back to Home"}},children:e.title})},e.id):e.name?Object(b.jsx)("li",{children:Object(b.jsx)(r.b,{to:{pathname:"/movies/".concat(e.id),state:{from:"/",label:"Back to Home"}},children:e.name})},e.id):void 0}))})]})}var x=c(15);function g(){var e=Object(a.useState)(""),t=Object(m.a)(e,2),c=t[0],n=t[1],i=Object(a.useState)([]),s=Object(m.a)(i,2),l=s[0],j=s[1],h=Object(a.useState)(""),d=Object(m.a)(h,2),O=d[0],v=d[1],f=Object(o.f)(),g=Object(o.g)(),p="https://api.themoviedb.org/3/search/movie",_="?api_key=c65fb4b4036e2137b5346647b44aa2c0",k="&query=".concat(c),y=p+_+k,N=new URLSearchParams(g.search).get("query");Object(a.useEffect)((function(){if(c||N)if(!O&&N){var e="&query=".concat(N),t=p+_+e;u.a.get(t).then((function(e){return j(e.data.results)})).then(f.push(Object(x.a)(Object(x.a)({},g),{},{search:"query=".concat(N)})))}else u.a.get(y).then((function(e){return j(e.data.results)})).then(f.push(Object(x.a)(Object(x.a)({},g),{},{search:"query=".concat(c)})))}),[c]);return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("form",{className:"SearchForm",onSubmit:function(e){e.preventDefault(),console.log("location",g),console.log("history",f),console.log("history.location.pathname + history.location.search: ",f.location.pathname+f.location.search),n(O)},children:[Object(b.jsx)("input",{onChange:function(e){v(e.target.value)},name:"searh",value:O,className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies"}),Object(b.jsx)("button",{type:"submit",className:"SearchForm-button",children:"Search"})]}),l.length>0&&Object(b.jsx)("ul",{children:l.map((function(e){return Object(b.jsx)("li",{children:Object(b.jsx)(r.b,{to:{pathname:"/movies/".concat(e.id),state:{from:"".concat(f.location.pathname)+"".concat(f.location.search),label:"Back to movies from moviePage"}},children:e.title})},e.id)}))})]})}var p=c(12),_=c.n(p),k=c(22),y=c.n(k);function N(e){var t=e.movieId,c="https://api.themoviedb.org/3/movie/".concat(t,"/credits").concat("?api_key=c65fb4b4036e2137b5346647b44aa2c0"),n=Object(a.useState)([]),i=Object(m.a)(n,2),s=i[0],o=i[1];return Object(a.useEffect)((function(){u.a.get(c).then((function(e){return o(e.data.cast)}))}),[c]),Object(b.jsx)("ul",{className:y.a.castList,children:s.map((function(e){return Object(b.jsxs)("li",{children:[Object(b.jsx)("img",{className:y.a.actorImage,src:e.profile_path?"https://image.tmdb.org/t/p/w500".concat(e.profile_path):"https://static.wikia.nocookie.net/fastandfurious/images/8/8e/Dom.png",alt:""}),Object(b.jsx)("p",{children:e.name}),Object(b.jsxs)("p",{children:["Character: ",e.character]})]},e.id)}))})}var I=c(35),w=c.n(I);function B(e){var t=e.movieId,c="https://api.themoviedb.org/3/movie/".concat(t,"/reviews").concat("?api_key=c65fb4b4036e2137b5346647b44aa2c0","&page=1"),n=Object(a.useState)([]),i=Object(m.a)(n,2),s=i[0],o=i[1];return Object(a.useEffect)((function(){u.a.get(c).then((function(e){return o(e.data.results)}))}),[c]),Object(b.jsx)("ul",{className:w.a.castList,children:s.length?s.map((function(e){return Object(b.jsxs)("li",{children:[Object(b.jsxs)("b",{children:["Author: ",e.author]}),Object(b.jsx)("p",{children:e.content})]},e.id)})):"We don`t have any reviews for this movie"})}function L(){var e,t,c=Object(o.i)().url,n=Object(o.f)(),i=Object(o.g)(),s=Object(o.h)().movieId,l=Object(a.useState)(null),j=Object(m.a)(l,2),h=j[0],d=j[1],O="https://api.themoviedb.org/3/movie/"+s+"?api_key=c65fb4b4036e2137b5346647b44aa2c0";Object(a.useEffect)((function(){u.a.get(O).then((function(e){return d(e.data)}))}),[O]);return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{type:"button",onClick:function(){n.push(i.state.from?i.state.from:"/")},children:null!==(e=null===i||void 0===i||null===(t=i.state)||void 0===t?void 0:t.label)&&void 0!==e?e:"Back"}),h&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:_.a.container,children:[Object(b.jsx)("div",{children:Object(b.jsx)("img",{className:_.a.image,src:"https://image.tmdb.org/t/p/w500".concat(h.poster_path),alt:""})}),Object(b.jsxs)("div",{className:_.a.filmInfo,children:[Object(b.jsxs)("h2",{children:[h.title," (",h.release_date,")"]}),Object(b.jsxs)("p",{children:["User score: ",h.vote_average]}),Object(b.jsx)("h3",{children:"Overview"}),Object(b.jsx)("p",{children:h.overview}),Object(b.jsx)("h3",{children:"Genres"}),Object(b.jsx)("ul",{className:_.a.ganresList,children:h.genres.map((function(e){return Object(b.jsx)("li",{className:_.a.ganresListItem,children:e.name},e.id)}))})]})]}),Object(b.jsx)("hr",{}),Object(b.jsx)("h2",{children:"Additional information"}),Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:Object(b.jsx)(r.b,{to:{pathname:"".concat(c,"/cast"),state:{from:n.location.state.from?n.location.state.from:"/movies",label:"Back to movies from Cast"}},children:"Cast"})}),Object(b.jsx)("li",{children:Object(b.jsx)(r.b,{to:{pathname:"".concat(c,"/reviews"),state:{from:n.location.state.from,label:"Back to movies from Reviews"}},children:"Reviews"})})]}),Object(b.jsx)("hr",{}),Object(b.jsxs)(o.c,{children:[Object(b.jsx)(o.a,{path:"/movies/:movieId/cast",children:Object(b.jsx)(N,{movieId:s})}),Object(b.jsx)(o.a,{path:"/movies/:movieId/reviews",children:Object(b.jsx)(B,{movieId:s})})]})]})]})}function S(){var e=Object(o.f)(),t=Object(o.g)();return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h1",{children:"404 Page not found!"}),Object(b.jsx)("button",{type:"button",onClick:function(){var c,a,n;e.push(null!==(c=null===t||void 0===t||null===(a=t.state)||void 0===a||null===(n=a.from)||void 0===n?void 0:n.location)&&void 0!==c?c:"/")},children:"Back to Home"})]})}function P(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(h,{}),Object(b.jsxs)(o.c,{children:[Object(b.jsx)(o.a,{path:"/",exact:!0,children:Object(b.jsx)(f,{})}),Object(b.jsx)(o.a,{path:"/movies",exact:!0,children:Object(b.jsx)(g,{})}),Object(b.jsx)(o.a,{path:"/movies/:movieId",children:Object(b.jsx)(L,{})}),Object(b.jsx)(o.a,{children:Object(b.jsx)(S,{})})]})]})}s.a.render(Object(b.jsx)(n.a.StrictMode,{children:Object(b.jsx)(r.a,{children:Object(b.jsx)(P,{})})}),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.10f37447.chunk.js.map